<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Create Anaglyph (GIMP Plugin): /home/pierre/checkouts/create_anaglyph/plugin/_doc.py Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Create Anaglyph (GIMP Plugin)
   </div>
   <div id="projectbrief">Main page: <a href="https://github.com/goto40/create_anaglyph">https://github.com/goto40/create_anaglyph</a></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('__doc_8py_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">_doc.py</div>  </div>
</div><!--header-->
<div class="contents">
<a href="__doc_8py.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno"><a class="line" href="namespace__doc.html">    1</a></span>&#160;<span class="comment">## </span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"># \mainpage Introduction</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"># The anaglyph Generator generates a stereoscopic anaglyph image from a given</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"># layered gray level image. Every layer is assigned a specific depth.</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"># This information is then utilized to generate the stereoscopic image.</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"># * \ref page_usage</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"># * \ref page_installation</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"># * Software \ref page_architecture (maintenance)</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">#</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"># ### Example input/output</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"># \image html demo500.png left: input image, all layers merged. right: generated anaglyph (you need red/cyan glasses)</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">#</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"># ### Used software:</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"># * http://www.gimp.org, the drawing application &quot;The GIMP&quot;.</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"># * http://www.python.org to write the software (a GIMP plugin).</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"># * http://www.numpy.org (python lib) for simple signal/array processing.</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"># * http://de.plantuml.com/ to generate UML images.</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"># * http://www.arc42.org/ software architecture structure.</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"># * http://www.doxygen.org/ to generate the documentation.</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">#</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">#</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"># \page page_usage Usage</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"># The plugin is visible in the menu &quot;Filters/Goto 40/Create Anaglyph From Layers&quot;.</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">#</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment"># ### Parameters and simple layer usage</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"># The plugin has the following parameters:</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">#  * &quot;min disparity, percent width (near)&quot;:</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">#    * minimum disparity (shift between left and right, generates depth perception)</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">#    * 0 = no depth (screen)</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">#    * &lt;0 = between user and screen</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">#    * &gt;0 = behind screen</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">#  * &quot;max disparity, percent width (far)&quot;:</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">#    * like min. disparity (should be &gt; min. disparity)</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">#  * &quot;luminance correction left (0.0..1.0)&quot;:</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">#    * 1.0 = no correction; &lt;1.0 darkens left image</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">#  * &quot;luminance correction right (0.0..1.0)&quot;:</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">#    * 1.0 = no correction; &lt;1.0 darkens right image</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">#  * &quot;swap left/right&quot;:</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">#    * normally &quot;no&quot;</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">#    * &quot;yes&quot; swaps left and right image (you swap the left and right side of your glasses)</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">#</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment"># Image and layer properties:</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">#  * Only gray level images with and alpha channel can be used.</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">#  * All layers must have the full image size.</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">#  * All layers must have no layer mask (apply before use).</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">#  * The order of layers is used as depth (most visible layer is nearest).</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">#</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment"># ### Special layer properties</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">#  * Layers named &quot;depthmap &lt;name&gt; &lt;float&gt; to &lt;float&gt;&quot; are ignored. They define depth maps with a given value range, which can be used as depth info for other layers.</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">#  * The name of the layer can overwrite the depth deduced from the layer order:</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">#    * &quot;background&quot; : a layer without disparity (typically colored in one color).</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">#    * &quot;depth=&lt;float&gt;&quot; : fixed depth of this layer (0.0=nearest layer, 1.0=farthest layer).</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">#    * &quot;reldepthmap &lt;name&gt;&quot; : use depth map (is scaled such that the range 0.0 to 1.0 fits the space between two layers).</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">#    * &quot;fixdepthmap &lt;name&gt;&quot; : use depth map with fixed depths.</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">#</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment"># Important note when using depthmaps:</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">#  * Depth is stimulated through an artifical disparity (a shift between left and right image).</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">#  * The depthmaps specify this shift for every pixel.</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">#  * However, the depthmaps are used to determine where a pixel comes from and not where it goes to. Thus, a depth map region must be wider than the object is is meant for. Also it may yield strange effects when it as abrupt changes (discontinuities). Best, is to use smooth depth maps, ideally representing a vertical gradient (constant from left to right).</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">#</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment"># \image html depthmaps500.png images generated with depthmaps (you need red/cyan glasses)</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment"># \image html depthmaps500_expl.png left: gimp screenshot demonstrating the usage of depth maps; right: example depthmap</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">#</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment"># ### Observations / open points</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">#  * JPG compression seems to destroy the stereoscopic effect in some cases (artifacts or color corruption?).</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">#  * On my screen, with my glasses, with my eyes it is helpful to darken the cyan image.</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">#</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment"># \page page_installation Installation</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment"># You need numpy to execute the plugin (e.g., apt-get install numpy).</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment"># You need to put the plugin code in the gimp plugin search path (e.g. see &quot;Edit/Preferences/Folders/Plug-Ins&quot;).</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">#</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment"># \page page_architecture Architecture</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment"># This page describes the architecture of the software. It helps modifying and maintaining the software. It also demonstrates how to combine numpy (or scipy) with gimp (gimpfu_numpy_converter.py).</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">#</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">#   ### Goal</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">#   Create a tool to generate anaglyphs from (scanned) flat images arranged in depth.</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">#</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">#   ### Constraints</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">#   The selected solution has the following constraints: Plugins must be written in python or scheme. </span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">#</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">#   ### Context</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">#   The context of the plugin is gimp (who owns/calls the plugin)</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">#   and additional required libraries for signal/image processing.</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">#</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">#   ### Solution</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">#    * Real 3D renderer (blender, povray) were considered to be too complex to use for this task.</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">#    * A gimp plugin seemed to be a possible solution. </span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">#     * It allows easy composition of scanned images.</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">#     * It also allows to scan and pre process the images.</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">#</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">#   ### Building Block View</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">#   The context of the plugin is gimp (who owns/calls the plugin)</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">#   and additional required libraries.</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">#   The plugin itself is organized as follows:</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">#    * Module create_anaglyph_plugin.py (component &quot;Plugin&quot;): The main plugin code (control code)</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment">#    * Module anaglyph_algorithm.py (component &quot;anaglyph_algorithm&quot;, class anaglyph_algorithm.Anaglyph): the core algorithm</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">#    * Module depth_algorithm.py (component &quot;depth_algorithm&quot;, class depth_algorithm.DepthAlgo): functions to determine a layers depth</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment">#    * Module gimpfu_numpy_converter.py (component &quot;gimpfu_numpy_converter&quot;): functions to convert from/to gimpfu data structures to/from numpy arrays.</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment">#   \startuml</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment">#    node &quot;Create Anaglyph Plugin&quot; {</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment">#    component [anaglyph_algorithm] #Cyan</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment">#    component [depth_algorithm] #LightBlue</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">#    component [gimpfu_numpy_converter] #LightGreen</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">#      [Plugin] ..&gt; [gimpfu_numpy_converter] : use</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment">#      [Plugin] ..&gt; [anaglyph_algorithm] : use</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">#      [Plugin] ..&gt; [depth_algorithm] : use</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment">#    }</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment">#    [gimpfu_numpy_converter] ..&gt; [numpy] :use</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment">#    [gimpfu_numpy_converter] ..&gt; [gimpfu] :use</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">#    [anaglyph_algorithm] ..&gt; [numpy] :use</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">#    [anaglyph_algorithm] ..&gt; [gimpfu] :use</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">#    [depth_algorithm] ..&gt; [numpy] :use</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment">#    [depth_algorithm] ..&gt; [gimpfu] :use</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment">#    [gimp] ..&gt; [Plugin] :calls</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">#   \enduml</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">#</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">#   ###Runtime View</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment">#   Here we sketch the activities executed by the plugin (create_anaglyph_plugin.run). The colors match the components </span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">#   corresponding to the described modules above.</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">#   \startuml</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">#    start</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">#    if (check input format and parameters) then (ok)</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">#     #Cyan:init algorithm output (numpy);</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">#     while(for each layer of the input image)</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">#       #LightBlue:determine depth of layer;</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">#       note left</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">#        The depth is influenced by the parameters </span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">#        (e.g. min/max disparity). The depth can be </span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment">#        extracted from the layers&#39; name (keyword </span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">#        based) or from the natural layer order.</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment">#       end note</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment">#       #LightGreen:convert layer data to numpy array;</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">#       #Cyan:update algorithm output (numpy);</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">#       note left</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">#        The algorithm needs the layers gray </span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">#        level image representation and the </span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">#        alpha channel.</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">#       end note</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">#       :update progress bar;</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">#     endwhile</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">#     :create new image with algorithm output;</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">#     #LightGreen:convert algorithm output array (numpy) to gimp data;</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">#     :display output (gimp);</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">#    else (not ok)</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">#     :error message;</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">#       note right</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">#        parameter checking </span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">#        is not implemented.</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment">#       end note</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">#    endif</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">#    end</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment">#   \enduml</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">#</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment">#   ###Deployment View:</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">#   (see \ref page_installation)</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">#</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">#   ###Concepts</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">#    * Data is converted from the gimp format to numpy and back.</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">#    * Algorithms process on numpy arrays.</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment"># </span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div></div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_b4c3aec6cd8f28418150dce663061cfa.html">plugin</a></li><li class="navelem"><a class="el" href="__doc_8py.html">_doc.py</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
